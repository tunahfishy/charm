from math import ceil
import json, os, pickle
from glob import glob
from openai.embeddings_utils import get_embedding
from pprint import pprint
import openai

# with open('python/data/names.json', 'r') as f: # replace with SQL. all of their information
#     all_bios = json.load(f)

# all_bios = { #allow them to put in their own data as well
# "Anubhav Bhardwaj": {"bio": "Java Full Stack Developer"},
# "mayur chanpa": {"bio":"Tax Associate 2 at Vialto Partners"},
# "Jay Bhadury": {"bio":"Production Engineer at Reliance Industries Limited"},
# "tinah": {"bio":"Quality Assurance Analyst at Hayat Kimya Nigeria"},
# "boyd": {"bio":"Experienced customer service officer and a skilled virtual assistant . i can help you set up your payment gateway on selar and also help with settling up of paypal account."},
# "caine": {"bio":"Sql|Python|PowerBi|Azure"},
# "surya": {"bio":"Student at Arya Institute of Engineering & Technology, Jaipur-2023"},
# "adarsh": {"bio":"Test Lead at TCS and Automation Trainer"},
# "hi": {"bio":"MBA in Marketing from “Osmania University ” worked as a Customer Support Professional for 11 Months in Sitel. Ex Sitel."},
# "micky": {"bio":"Software Test Engineer Trainee at QSpiders - Software Testing Training Institute"},
# "woah": {"bio":"web developer, Web designer"}
# }

all_bios = {'Allen Wang': {'bio': "Hey there, I'm Allen! I study CS and Math at MIT. I work on product dev and research at the intersection of climate, consumers, and computers. Previously, I've been at Scale AI, Google, Five Rings Capital, and two preseed startups in the Cambridge area. In college, I helped organize HackMIT and Blueprint as Dev Head, where I managed teams and shipped open source tools. I was Co-President of MIT Poker Club and a member of Startlabs. At the moment, I'm working with Katherine He on a climate tech startup with the mission of either 1. keeping corporations accountable for their net zero goals or 2. creating financial incentives for environmentally responsible behavior. In my free time, I like impressing tipsy teammates with my mediocre card magic, making music with friends, and maintaining a healthy workout routine."}, 'Brendan Foody': {'bio': "I'm studying Finance and Analytics at Georgetown. I ran a business which arbitraged AWS Activate promotions through creating a cloud consulting offering since I was 17, so I'm immensely familiar with cloud provider discounts. In past internships, I've used ML models to analyze supply chain data and have built domain expertise in supply chains and operations. Now I'm working on Mercor with Adarsh Hiremath and Surya Midha. We're building a platform to recruit top software in India for US startups, so hit us up if you're looking to hire cracked engineers for under 20k a year."}, 'Raul Alcantara': {'bio': "Raul finished his undergrad on CS at MIT'22, and currently doing his Master's there. He has interned at Google and Pinterest as a software engineer. He has experience with Data Science, building websites (mainly using React), and applied Machine Learning (especially Computer Vision-related tasks). He is very interested in EdTech, mainly in finding ways to provide underrepresented/underresourced students with high-quality education. He is also part of the MIT Sports Taekwondo team. On his free time, Raul enjoys biking, ping pong, watching TV shows/movies, making math-related youtube videos, and playing The Game."}, 'Raunak Daga': {'bio': 'Raunak is a sophomore studying CS & Philosophy (maybe) at Harvard. He attended Thomas Jefferson High School for Science and Technology in Alexandria, VA. In high school, he built an absentee ballot request webapp for the Virginia Democrats, through which ~40k citizens voted absentee in the 2020 presidential election cycle. He also passed two state laws (HB207/HB220), enabling anyone to vote absentee. He’s currently working on Pong, an anonymous college social media decreasing the friction in creating meaningful relationships (platonic, and non-) on-campus. In his free time, you can find him trying to finish the 48 4000ft+ peaks of New Hampshire.'}, 'Miles Pines': {'bio': "Miles is studying CS at Harvard, '26. He is broadly skilled in both front-end and back-end development with experience using: Swift for iOS development, React-Native for Mobile and Web Development, Flask (Web to APIs to OAuth Servers), Machine Learning, and Computer Vision. One project he enjoyed creating was an automated messaging system that can be found here: https://www.rmndrs.com/. He is currently working on a startup in the CRM data integration space with William Zhang. In his free time, Miles enjoys tennis and cooking."}, 'Mallika Reddy Pajjuri': {'bio': 'Mallika is a senior at MIT studying Materials Sciences and Engineering/Finance with an interest in healthcare and consumer. She has prior experience at academic labs (Langer Lab/Swartz Lab), biotech nonprofits (Cure Rare Disease/Reboot Rx/Nucleate), and biotech startups (nference). Aside from that, she has dabbled in private equity investing (Alpine Investors), fashion design (MIT/FIT/Ministry of Supply), and policy (Boston Intercollegiate Government/Davis Projects for Peace Fellow). In her free time, she enjoys cooking with friends, going to concerts/museums, and performing improv comedy.'}, 'Will Schrepferman': {'bio': 'Will is studying Government and Data Science at Harvard, \'24. He has worked at a variety of political and civic technology startups, most notably GovPredict (a YC company) during his gap year in 2021-22; additionally, he spent a few months working for a smart toilet company, and has done lots of consulting work for three years with HCCG, a Harvard preprofessional group. Will does not consider himself a technical expert or coding god at anything, but he has done at least a little programming work and has been told he can speak "basic beep boop." What Will is, though, is an expert in is selling things. Scraping contact info, cold emailing, cold calling, contracting, closing b2b deals, anything that involves getting scrappy, talking to people, and making money. Will is also an insanely devoted soccer fan (go Chelsea), an amateur chef, and an even more amateur golfer.'}, 'Katherine He': {'bio': "Katherine is studying CS and Management at MIT '24. Most recently she's co-founded Pairly Climate with Allen Wang, another MIT student, and is always looking to learn more about the climate tech space and high social impact entrepreneurship. In the past she's worked in software engineering and venture capital including Two Sigma, Romulus Capital, and AccesSOS. On campus, she has co-directed HackMIT for the past two years, where she led a team of over 30 MIT students to organize one of the nation's largest undergraduate hackathons and other events. In her free time, Katherine loves playing and composing music, dancing, and traveling!"}, 'Eva Tuecke': {'bio': "Eva is studying computer science at Harvard '25. In the past, she’s worked for UChicago, building technology to increase access to medical care, and Fermilab, doing particle physics research on dark matter. She’s also spent time working on a healthcare startup, interning in product management, and leading sales and partnerships at a market research firm. Currently, Eva is working for Contrary Capital and building a bounty-based platform to provide high quality answers to programming questions. In her free time, she also enjoys lifting, learning Chinese, hiking, and obsessively analyzing her WHOOP data."}, 'Ivory Tang': {'bio': "Ivory is studying Math & CS and Business at MIT '23. In the past, she has worked at Hubspot as a SWE intern and ClimateAI, a climate tech startup, as a Machine Learning intern. She's also looking to expand her business acumen by joining BCG as a summer associate this upcoming summer. She's had experience managing large programs and organizations with the goals of promoting education or philanthropy. Additionally, she has conducted ultrasound technology research at the Media Lab, robotic manipulation research at CSAIL, and physics research at MIT's Francis Bitter Magnet Laboratory. Currently, she is working with Vicky Zheng on Angel Rings, a wearables startup aimed at improving personal safety for women. In her free time, Ivory enjoys playing music, various sports like soccer and snowboarding, cooking, reading, and traveling to explore nature and new cities."}, 'Deepak Singh': {'bio': "Deepak is studying CS & Neuroscience at Harvard, '23. He researches biologically inspired deep learning with the Kreiman Lab at the Center for Brains, Minds, and Machines and has submitted papers to conferences like NeurIPS and ICLR. He is Co-President of the Harvard Undergraduate Machine Intelligence Community (HUMIC), where he founded an educational fellowship on deep learning with over 150 alumni. Currently, he is working with Larry Benowitz (HMS) and Donald Zack (JHU) on a startup combining tissue engineering and computer vision for high content deep phenotyping in the study of glaucoma. In his free time, Deepak enjoys psychological thrillers, hiking, and solving brain-teasers. "}, 'Sam Suchin': {'bio': "Sam is studying CS at Harvard, '25. He has been 3D printing, scanning, and designing since 13 years old, winning his first 3D printer at 14 through a design competition and acquiring a medical patent at 17. He created Hope3D, a platform that unites makers to crowdsource 3D printed parts for projects that help our world. He designed and implemented seven projects, including submerging the the world's first crowdsourced 3D printed artificial reef at 15. Outside the 3D world, he is a full stack developer and enjoys creating applications for companies. He designed and runs The Harvard Lampoon website. Currently, he is working on BuyXR, a startup that lets people shop for real items in VR. Sam loves movies, shows (Game of Thrones), comedy, videogames, gum, and writing down thoughts."}, 'Ethan Shaotran': {'bio': "Ethan is studying CS at Harvard, ’25, while cross-enrolled at MIT and HBS. He has filed 4 patents in AI and cleantech, written 2 books, and published an IEEE paper on deep learning while researching at Harvard SEAS. He is skilled in deep learning, backends, self-driving tech, patent filings, and VC. He's currently working on PatentLabs to revolutionize the cleantech IP process. Ethan is an avid surfer, marathoner, hiker, and PADI Professional Divemaster. "}, 'Alex Pedersen': {'bio': 'Alex is studying CS at Harvard, \'23. He has worked at Microsoft, an (acquired) seed-stage SaaS, and an SEO content farm. He learned to code building a Civ clone on Rails at 14. He\'s been at "this" for a while and used many, many stacks. Ask him about his networking thesis or his entirely browser-based bitcoin clone. He\'s working with Matt Kiflu on TBD and very excited to penetrate deep into the user psyche. Outside of prod, Alex is a crew walk-on and likes to try new restaurants with his girlfriend. '}, 'Gyalpo': {'bio': 'Gyalpo is studying AI at MIT, ‘24. He was born in Perú but also lived in the UK and Spain for 9 years. He has interned at Honest AI (Real Estate Startup from London) and Oracle (which he quit throughout the middle of his internship). This June, he created Xplain, an IB online tutoring startup based in Latam with over 100 monthly paying customers. I don’t know how many words are at this point but he also enjoys playing with his cat (Charizard) a lot and teaches her a lot of tricks like playing piano or jumping to his shoulder (these 2 are for real). He is also a Pokémon master and can solve a Rubik’s cube in less than a week.'}, 'Caine Ardayfio': {'bio': "Caine is studying Math at Harvard, '25. He's interned at Eli Lilly Pharmaceutical company and served as a technology associate on the Harvard Project for Asian and International Relations. He’s also done research and presented at conferences on quantum computing, solar cells, and optimizing algorithms. Caine runs a knowledge marketplace startup with hundreds of users called Quidio. He also serves as head of operations for a non-profit startup accelerator for diverse founders called Envision. In his free time, Caine does parkour, breakdances, and plays basketball! He also likes to use code to simplify his life."}, 'Hileamlak Yitayew': {'bio': "Hilea is interested in computer science, and how it might be used to solve problems. He is currently studying computer science and physics at Harvard, '25, focusing on computer systems and machine learning. He has experience working in crypto, web-development, mobile development and databases. Currently, he is working on his startup oban credit, which is a microfinance company in Nigeria. During his free time, he enjoys watching movies, and playing board games. "}, 'Khoi Nguyen': {'bio': "Khoi is studying CS + Econ at Harvard '25. He has an upcoming internship at Capital One. He is a hobbyist bug hunter (&Pizza wrecked, Toppings <3, and unlimited coffee from Dunkin' for October). He is currently an iOS developer (Swift/SwiftUI) and learning to be a cracked full-stack developer, and with Raunak, is developing a better college anonymous forum 😛. He has also ran a nonprofit, The Free and Accessible Technology Initiative, which helped a bunch of families, got a bunch of money, and got onto a bunch of TV (NBC, Today Show, and VICE Documentary). "}, 'Teagan Connon': {'bio': "I'm a 4th year Computer Engineering student at UCSB. I've interned in a laser microscopy lab as well as at Karl Storz Imaging. I'm working with Will Schrepferman on Socially, a company which connects brands with college athletes in light of the new NCAA NIL rules. My role at Socially is primarily technical and I've worked on web scraping and frontend development so far. "}, 'Adarsh Hiremath': {'bio': "Adarsh Hiremath is studying CS & Math / Econ at Harvard, '25. He has interned at IBM Research as well as Stanford, first as a researcher and later as a part-time software engineer. His work on unsupervised object detection and recognition is pending review at major machine learning / CV conferences such as AAAI and CVPR. He is broadly skilled in machine learning as well as full stack web development. Currently, Adarsh is working on Mercor, a recruiting startup which connects talented students at underutilized engineering schools globally with midsize companies and startups. In his free time, Adarsh enjoys going on runs, hiking, and playing basketball. "}, 'Wesley Block': {'bio': "Wesley studies Materials Science & Engineering at MIT, '23. He has interned at PrecisionLender (B2B SaaS fintech startup), a boutique entrepreneurial consulting firm in Boston, the Boston Consulting Group, and Bridgewater Associates. He has conducted research developing field-deployable hardware tools for various biotechnology applications, and his thesis works toward the reliable fabrication of arbitrarily curved metasurfaces for next-generation optical devices. He is building Kino AI with Luke Igel, a startup selling AI tools to help filmmakers process and organize their footage. "}, 'Sandra Tang': {'bio': "Sandra is an undergraduate senior at MIT majoring in CS and minoring in design. She has worked as a software engineering intern at Google, technical program management intern at Meta, and undergraduate researcher (making machine learning models) for MIT's Urban Risk Lab. Sandra was the former CTO of Bamboo Chats, named one of the most promising startups to come out of Brown University by The Business Journals. In her free time, Sandra enjoys developing games, digital design (creating posters, yearbooks, etc), and exploring new places. "}, 'Joshua Doolan': {'bio': "Joshua Doolan is a senior at Harvard College ('23) studying Applied Mathematics (Data Science) and Computer Science (S.M.). He has previously interned as a data scientist @ Meta and as a software engineer @ Capital One. Currently, he is interested in the applications of generative AI for enterprise use cases, particularly textual use cases. In his free time, Joshua enjoys going on runs, reading the news, and eating Vegemite on toast. "}, 'Richter Brzeski': {'bio': 'Richter is studying EECS at MIT, ’23. He has interned at Salesforce, GoodRx, and Apple, and assisted in research at UCLA. He built and sold Ambo, a cryptocurrency wallet app, to MyCrypto with his close friend during his senior year of high school. He and another close friend recently co-founded Sling Protocol, a suite of open-source repositories that serve as decentralized infrastructure for programmable transaction automation. He has broad experience in software ranging from embedded systems to backend design, mobile apps, smart contracts, web scraping, and penetration testing. Richter enjoys playing soccer, running, physics, and poker.'}, 'Surya Midha': {'bio': 'Surya is studying International Economics and Math at Georgetown, ‘25. He was previously a research assistant at the Brookings Institution, where he studied deglobalization and the viability of different safe assets. At Georgetown, he researches the survivability of US naval assets during wartime. Currently, Surya’s working with Brendan Foody and Adarsh Hiremath on Mercor, a platform to democratize access to on-campus recruiting. In his free time, he enjoys walking, DJing, and watching Formula 1.'}, 'Maggie Zhang': {'bio': "Maggie is a MIT' 23 studying CS and Management. She previously had an Instagram + Etsy crafting business and has interned in a variety of roles including business analyst, consultant, software engineer, and ML researcher at small startups (Centrly and Better off Brunching) alongside larger companies including Virtu Financial, Bloomberg, Gem, and Bain & Co. At MIT, she helped run several large scale events including xFair (career fair) and HackMIT. Through a wide variety of experiences, in her current roles, she mostly just fits in wherever tasks need to get done, with a lot of experience within social media, marketing, and website building. Currently, she’s working with Pearl Li and Savannah Liu on Refond, a clothing resale platform. In her free time, she climbs recreationally, listens to podcasts, and bakes desserts with friends."}, 'Vicky Zheng': {'bio': 'Vicky is studying CS at MIT. She has interned at Amazon and Facebook as a SWE intern. She has done some iOS App development projects in Swift but still has a lot to learn. She loves learning about how people behave and is interested in product management and UI/UX design. She is interested in social issues and is currently working with Ivory Tang on a social impact startup called Angel Rings. In her free time, Vicky enjoys reading, basking in the sun, psychology, going to coffee-shops, paddle-boarding, and time-tracking in five-minute-increments.'}, 'Georgi Ivanov': {'bio': "Georgi is from Bulgaria and he studies Math & CS at Harvard '25. He has had experience with publishing scientific research in the field of acoustics and ML; creating and leading large-scale educational initiatives, funded by the US Embassy; and growing an international educational camp business to 6 figures. He has worked with institutions, such as Sofia Tech Park and GrowLab, in building out software for employee identity management and digitalization of RFID ID Cards. He is currently the sole founder of TAPP, a B2B SaaS startup that offers phishing-resistant authentication, tackling the vulnerability responsible for 90% of all cyber breaches. "}, 'Pearl Li': {'bio': 'Pearl is a 4th year student studying Electrical Engineering and Computer Science at MIT. She previously interned at Meta AI Research, Primer AI, and Assetario, doing backend SWE and ML work on applications of state-of-the-art NLP models such as AI chatbots, structured search, realtime info panels. She is familiar with building customized ML pipelines and lower level CUDA kernel programming for optimizing model performances. She is currently working with Maggie Zhang and Savannah Liu on Refond, an e-commerce platform to make women’s clothes resale easier to encourage a more circular shopping economy. She is studying abroad at ETH Zurich this semester. During her free time, she enjoys traveling, playing the piano, and working out/doing sports. '}, 'Anne Ouyang': {'bio': 'Anne is a senior at MIT studying computer science. She is also a concurrent MEng student doing research in performance engineering of large language models. She is passionate about the intersection of machine learning and systems engineering as well as applied ML. Her previous experiences include developing deep learning kernels on the NVIDIA cuDNN team, accelerating large-scaled graph neural network training at the MIT-IBM Watson AI Lab (published a paper at MLSys 2022), and using ML for VLSI timing prediction at Cadence Design Systems. In addition to ML, she has also worked in the crypto/web3 space in a variety of roles ranging from an analyst at a capital firm to a consensus protocol researcher. Currently, she is working with Nithya Attaluri on an applied ML startup. In her free time, she enjoys photography, hiking, visiting museums, and learning languages. '}, 'Anna Sun': {'bio': 'Anna is studying CS at MIT, ‘23, and serves as President of her class. She has interned as a Product Manager at Datadog and as a Software Engineer at DoorDash and Amazon. She previously worked on a health-tech startup to help people safely gather during Covid-19, where she developed an iOS app using Flutter, managed events with recurring paying customers, and onboarded 1000+ users onto the app. Currently, she is working with Ethan Han on a travel and discovery startup. In her free time, Anna enjoys making pop violin covers, long-distance running, and documenting her travels abroad.'}, 'Billy Zhang': {'bio': "Billy is studying CS at Harvard '26. He has worked at TensorFlow, Clay (clay.com), 2 stealth crypto startups, and was a strategic advisor to the UK government. Previously, he was heavily involved in theoretical cryptography research with MIT CSAIL and raised funding from Emergent Ventures. He is interested in poker, food, and calisthenics. Currently, he is working on a data integrations startup with Miles Pines."}, 'Matthew Kiflu': {'bio': 'Matthew is a senior at Harvard studying English. He has interned at Lazard, Bain & Co., and Pear VC and has previously worked on startups in the consumer social space. He is currently exploring proptech with Alex Pedersen.'}, 'Arjun Puri ': {'bio': "Arjun is studying CS & Math with a stat masters at Harvard, '24. He has interned at Citrix and Bloomberg as a software engineer and is an incoming quant research intern at Jump Trading. He has a great passion for statistics, software, cryptography, and markets, and he is hoping to leverage these passions to solve problems in a Web3 or ML context.  In his free time, you can find Arjun working out, running, or taking long strolls by the Charles."}, 'Luke Igel': {'bio': "Luke is studying Computer Science at MIT ('23). He has interned as a machine learning researcher and software engineer at SpaceX, NASA JPL, Slack, and multiple startups. He has been published in ICRA for his work in deep reinforcement learning on the Mars Perseverance rover's self-driving system. He also worked on activity planning for SpaceX's Starlink satellite mega-constellation, which is now running his code in-orbit. Alongside Wesley Block, he recently completed a feature-length documentary on the history of MIT, a 2-year project that spans 80 years of the Institute's and America's history via AI-enhanced archival footage. Alongside Wesley, he also co-founded a startup, Kino, which speeds up video production for amateurs and professionals via AI-based tools."}, 'Portia Gaitskell': {'bio': 'Portia is a senior at MIT, studying EECS. She has interned at Microsoft as a software intern on the Commercial Software team and at Zoox on the perception team. She has done research building a platform for automatic processing of financial documents and multi-agent reinforcement learning of soft robots in simulation (https://evolutiongym.github.io). She has skills in various applied machine learning techniques, including computer vision, state estimation, and control optimization. She has been a part of several hackathons, implementing both the UI and data handling on the backend. Outside of coursework and research, she runs an undergraduate organization which does pro-bono consulting cases for non-profits (Global Research and Consulting Group) and is on the MIT varsity rowing team. She is currently working on a sports-tech platform for live heart rate monitoring of all 8 rowers in a boat. Portia also enjoys traveling to new places and betting on episodes of the Great British Bake-off.'}, 'Isaac Robinson': {'bio': "Isaac is studying CS & Math at Harvard, '23. He has interned as a data scientist at Facebook/Meta and the NIH, as a research intern at an economics think tank (CSIS), as an ML model engineer at a medical diagnostics startup (PredictionHealth), as an analyst an investment bank (DBO Partners), and as a quantitative trader. He has written papers on voting rules, data privacy, and (basic) algebraic geometry and is interested in fairness, privacy, mechanism design, voting rules, AI, multi-agent systems, and the pricing of information. In his occasional free time, Isaac rows on the varsity crew team, engages in local policymaking and tries to learn new languages. "}, 'Jonah Lipel': {'bio': 'Jonah is studying Economics at Harvard (’22) where he is the starting kicker for the football team and a content associate for the Harvard Economics Review. Jonah has held internships within investment banking, private equity, and asset Management at MTS Health Partners, Duet Group, and DoubleLine Group LP. Additionally, he has helped the finance team at a publicly traded music company at LiveOne, Inc. Currently, he is working on a social investing startup and private marketplace for Gen-Z investors. In his spare time, Jonah enjoys watching tennis, cheering on the Lakers, and playing golf. '}, 'kevin jiang': {'bio': "Kevin is a CS major at MIT ‘22. He took a leave last semester to run his crypto startup after raising $1.4M (was accepted into YC S22). The craziest thing he and his cofounder did was host Lil Nas X's birthday party!\n\nPreviously, Kevin was an MIT Sloan Business School Instructor that taught poker theory to 171 undergraduate, graduate, and MBA students. He was also a 4x USA Taekwondo National Team Member, leading the US teams that won gold at the 2017 and 2020 Pan-American International Taekwondo Championships and bronze at the 2019 Taekwondo World Cup.\n\nHe's worked on a lot of projects in his spare time including the first AI Taekwondo auto-grader, an iOS live events app, Clubhouse talks with celebrities (Lex Fridman, Korea’s first astronaut, film producers, CEOs, etc.), and the Collegiate Series of Poker for students to play poker.\n"}, 'Edward Dan': {'bio': "Edward is studying CS at Harvard '24. He has interned at Snackpass and Eureka Surveys. He is a full-stack SWE with experience in data engineering, business consulting/product strategy (for digital products), product management, running an edutainment youtube channel (1M+ views), building feature-rich Discord bots, and managing a Discord community (100k+ members). He learns new technology quickly and loves to explore new challenges. He is interested in digital social networking products, generative AI, and B2B SAAS data solutions. Edward enjoys anime, piano, and reading tech news in his free time."}, 'Albert': {'bio': "Albert is a junior at MIT studying CS. He has interned at Simplify Jobs and Scale AI, and completed research in data science, mechanical engineering, and physics. He has also taught MIT's web.lab, a yearly web programming class and competition. He is currently working on building an açaí bowl delivery service specially catering towards college students. During his free time, Albert enjoys catching up on sleep, playing board and video games, learning history, and trying out new restaurants with friends."}, 'Milo Clark': {'bio': 'Milo Clark is studying Physics at Harvard, class of 2024. Last summer, he worked at the AF-MIT AI Accelerator, assisting with research into ML for climate modeling. He’s also a licensed pilot and an Air Force ROTC cadet at MIT. Business interests of Milo’s include AI, Web3, and gambling. Hobbies and personal interests include cars, jazz, sports, and food. '}, 'Nithya Attaluri': {'bio': "Nithya is an MIT '23 (graduating with both her Bachelor's and Master's in 2023) studying EECS. She's very interested in artificial intelligence, computer architecture / hardware, and biotechnology. She has interned at DeepMind, Nvidia (Autonomous Driving group), Samsung (e-commerce team), and Enlitic (AI / radiology startup); she has also published work on better hardware for machine learning operations in a computer architecture conference (ASPLOS). In her free time, she is involved in an a cappella group on MIT's campus and is learning how to DJ. Currently she is working with Anne Ouyang on a startup as part of the Prod 2.0 Cohort. "}, 'Mark Jabbour': {'bio': 'Mark is a senior at MIT studying computer science and Math, he has worked at Jump crypto, Vatic investments. He has done research in signal processing, as well as formal verification. He also has a broad experience in crypto, performance engineering. He is interested in hacking around ML IOT, ML for health care and zero knowledge proofs. In his free time he enjoys cooking, biking, and helping students from war-zones study abroad.'}, 'Matt Tengtrakool': {'bio': "Matt is studying CS and Stat at Harvard, '25. Currently, he is working on Oban, a micro-finance startup working to make credit more accessible in Nigeria. Matt has previously had experience in the web3 space — dilligencing blockchain companies, conducting Bitcoin mining strategy, as well as building startups in the DeFi and digital identity space. Generally, he is excited about fintech and has worked heavily on nonprofits focused on financial literacy as well as agriculture and sustainability. Outside of work, Matt loves to hike, camp, play tennis, swim, and chill with his dog, Petey."}, 'Savannah Liu': {'bio': 'Savannah is studying CS at MIT, ’23.5. She has interned at FindOurView(an NLP startup), Amazon Advertising and Flatiron Health. She also worked as a machine learning research assistant at MIT Cybersecurity department and Media Lab. In addition to technical skills, she enjoys working on designing/marketing. She was the marketing head for HackMIT, one of the biggest college hackathon in the US. Currently, She is working with Pearl Li and Maggie Zhang to build a clean e-commerce platform that facilitates circular economy in fashion. In the rare casual time, she enjoys working out, learning Japanese and runs a social media vlog account that currently has 25k followers.'}, 'George Tang': {'bio': 'George (MIT ‘23) is a senior studying CS and math. He has worked on low latency trading systems at Citadel Securities and perception algorithms for Nvidia’s autonomous driving platforms, resulting in a patent. He enjoys computer vision, graphics, machine learning and algorithms and has worked on projects ranging from automated news anchors to tech to help blind people ‘see’. He loves hacking, and took home grand prizes at HackMIT, TartanHacks, YHack, and HackHarvard. Currently he is doing vision research at MIT CSAIL, and in his free time he enjoys competitive programming, learning pure math, piano, and eating good food.'}, 'William Zhao': {'bio': 'William is studying CS&Math at MIT. He has interned at Jane Street and is researching on machine learning with Madry Lab using influence estimation methods. He is skilled in deep learning. He is currently working with George Tang on 3D simulator for robotics.  '}, 'Andrew Sima': {'bio': 'Andrew is studying CS at Harvard, ‘24. He has interned at Astranis, Robinhood, and Okta, mostly doing backend and distributed engineering. He is broadly skilled in systems programming and performance engineering, and is a crypto enthusiast. In his free time, he enjoys playing pool, learning how to sail, practice the violin, and spending time eating with his suite mates. '}, 'Devishi Jha': {'bio': "Devishi Jha is a 19 year old entrepreneur from Chicago and student at Harvard studying computer science and economics. In 2020 she founded Voyagers, a 501c3 that advises companies like P&G, S'well, and Unilever on corporate sustainability strategy. She is currently a strategic advisor for Spotify. Devishi also serves as a mentor at Techstars, National Council member at UNICEF USA, and on the board at the American Lung Association. She is working on creating Debrief, a consumer social app, through Prod."}, 'Emil Liu': {'bio': 'Emil is a third-year Harvard student (’23/’24) studying computer science and math. They have worked for startups ranging from a Y-Combinator-backed B2B SaaS company to an AI startup specializing in deepfake research and software. Notably, they have specialized knowledge of the blockchain/cryptocurrency space, having interned at Solana Labs and Syncretic Capital (a crypto hedge fund managing 100m) where they are currently working while on a leave of absence. Overall, Emil is a deeply technical software engineer & quant with significant experience across the stack who also tries to think about economics, finance, and philosophy. They find joy in combining their technical expertise with their more creative roots as a nationally-recognized visual artist and streetwear brand founder in unconventional ways. In their free time, you may find them rock climbing, playing a board game, or reading existentialist lit.'}, 'Sophia Kianni': {'bio': 'Sophia Kianni is an Iranian-American activist studying climate science and health policy at Stanford University. She is the founder and executive director of Climate Cardinals, an international nonprofit with 9,000 volunteers in 40+ countries working to translate climate information into over 100 languages. She represents the U.S as the youngest member on the inaugural United Nations Youth Advisory Group on Climate Change. She sits on boards and advisory councils for The New York Times, World Economic Forum, Inkey List, Iris Project, JUV Consulting, Ashoka, and American Lung Association.'}}

all_bios_list = []
for k, v in all_bios.items():
    all_bios_list.append(v)
    all_bios_list[-1]["name"] = k

# This code generates the embeddings and then converts it to a pkl to be able
# to work with the embeddings without spending money

openai.api_key = os.environ['OPENAI_SECRET_KEY']
counter = 0
for bio in all_bios_list:
    if len(bio["bio"]) < 3:
        continue
    bio['embedding'] = get_embedding(bio['bio'], engine='text-search-ada-doc-001')
    counter += 1

# Pickle the output of the embeddings so we don't waste money
# with open("embeddings.pkl", "wb") as f:
#     pickle.dump(all_bios_list,f)
#     print("Written")

# with open("embeddings.pkl", "rb") as f:
#     all_bios = pickle.loads(f)

# print(all_bios)

with open('embeddingsBios.json', 'w') as f:
    #json.dump(f, indent=2, fp=all_bios)
    json.dump(all_bios_list, f, indent=2)



# # JSON batch size
# batch_size = 100 # 100 names per file.

# num_files = ceil(len(all_bios) / batch_size)

# for i in range(num_files):
#     print('Starting batch {} of {}'.format(i+1, num_files))
#     # first check if the batch has already been done!
#     if os.path.exists('python/embeddings/{}.json'.format(i)):
#         print('Batch {} already done!'.format(i+1))
#         continue
#     batch = all_bios[i*batch_size:(i+1)*batch_size]
#     for name in batch:
#         try:
#             if len(name['bio']) > 5000:
#                 raise Exception('bio too short')
#             print('Running embedding for path {}, length {}'.format(name['filepath'], len(name['code'])))
#             name['embedding'] = get_embedding(name['code'], engine='code-search-babbage-code-001')
#             if len(name['bio']) < 3:
#                 raise Exception('bio too short')
#         except Exception as e:
#             print(e)
#             print("Error with name:", name['name'])
#             print('name was of length {}'.format(len(name['code'])))
#             name['embedding'] = [0]*2048
#             print('----------------------------------------')
    # with open('python/embeddings/{}.json'.format(i), 'w') as f:
    #     json.dump(batch, f, indent=2)